{
  "dataset_reader": {
    "name": "dstc2_datasetreader",
    "data_path": "dstc2"
  },
  "dataset": {
    "name": "dialog_dataset"
  },
  "vocabs": {
    "word_vocab": {
      "train_now": true,
      "name": "default_vocab",
      "inputs": [
        "x"
      ],
      "level": "token",
      "tokenize": true,
      "save_path": "vocabs/word.dict",
      "load_path": "vocabs/word.dict"
    },
    "token_vocab": {
      "name": "default_vocab",
      "inputs": [
        "x"
      ],
      "level": "token",
      "save_path": "vocabs/token.dict",
      "load_path": "vocabs/token.dict"
    },
    "tag_vocab": {
      "name": "default_vocab",
      "inputs": [
        "y"
      ],
      "level": "token",
      "save_path": "vocabs/tag.dict",
      "load_path": "vocabs/tag.dict"
    },
    "char_vocab": {
      "name": "default_vocab",
      "inputs": [
        "x"
      ],
      "level": "char",
      "save_path": "vocabs/char.dict",
      "load_path": "vocabs/char.dict"
    },
    "classes_vocab": {
      "name": "default_vocab",
      "inputs": [
        "y"
      ],
      "level": "token",
      "save_path": "vocabs/classes.dict",
      "load_path": "vocabs/classes.dict"
    }
  },
  "model": {
    "train_now": true,
    "name": "go_bot",
    "debug": false,
    "template_path": "dstc2/dstc2-templates.txt",
    "network": {
      "train_now": true,
	  "gradient_flow": true,
      "name": "go_bot_rnn",
      "load_path": "go_bot/model",
      "save_path": "go_bot_df/model",
      "learning_rate": 0.001,
      "hidden_dim": 128,
	  "dense_size": 64,
      "obs_size": 502,
	  "intents_size": 28,
      "use_action_mask": false,
      "action_size": 45
    },
    "slot_filler": {
      "name": "dstc_slotfilling",
      "save_path": "ner/dstc_ner_model",
      "load_path": "ner/dstc_ner_model",
      "filter_width": 7,
      "embeddings_dropout": true,
      "n_filters": [
		64,
		64
	  ],
	  "token_embeddings_dim": 64,
	  "char_embeddings_dim": 32,
	  "use_batch_norm": true,
	  "use_crf": true
	},
    "intent_classifier": {
      "train_now": true,
	  "gradient_flow": true,
      "name": "tf_intent_model",
      "load_path": "../download/intents_tf2/intent_cnn",
      "save_path": "../download/intents_tf2_df/intent_cnn",
	  "kernel_sizes_cnn": [
	    2,
	    3,
	    4,
	    5
	  ],
	  "filters_cnn": 128,
	  "confident_threshold": 0.5,
	  "optimizer": "Adam",
	  "lear_rate": 0.1,
	  "lear_rate_decay": 0.05,
	  "coef_reg_cnn": 1e-3,
	  "coef_reg_den": 1e-2,
	  "dropout_rate": 0.6,
	  "dense_size": 64,
      "embedder": {
        "name": "fasttext",
        "save_path": "embeddings/dstc2_fasttext_model_100.bin",
        "load_path": "embeddings/dstc2_fasttext_model_100.bin",
        "emb_module": "fasttext",
        "dim": 100
      },
      "tokenizer": {
        "name": "nltk_tokenizer",
        "tokenizer": "wordpunct_tokenize"
      }
    },
    "embedder": null,
    "bow_encoder": {
      "name": "bow"
    },
    "tokenizer": {
      "name": "spacy_tokenizer"
    },
    "tracker": {
      "name": "featurized_tracker",
      "slot_names": [
        "pricerange",
        "this",
        "area",
        "slot",
        "food",
        "name"
      ]
    }
  },
  "train": {
    "epochs": 200,
    "batch_size": 1,

    "metrics": ["per_item_dialog_accuracy"],
    "validation_patience": 30,
    "val_every_n_epochs": 1,

    "log_every_n_batches": -1,
    "log_every_n_epochs": 1,
    "show_examples": false
  }
}

